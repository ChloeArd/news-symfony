{% extends 'base.html.twig' %}

{% block title %}Les News !{% endblock %}

{% block body %}
    <div class="container py-5">

        <h1 class="m-5">Les News !</h1>

        {{ dump(news) }}

        {% for key, new in news  %}

            {% for key2, oneNew in new %}

                <div class="card mb-3" id=>

                {% if oneNew.image is defined and oneNew.image is not null %}
                    <img src="{{ oneNew.image }}" class="card-img-top" alt="{{ oneNew.title }}">
                {% elseif oneNew.urlToImage is defined and oneNew.urlToImage is not null %}
                    <img src="{{ oneNew.urlToImage }}" class="card-img-top" alt="{{ oneNew.title }}">
                {% elseif oneNew.image_url is defined and oneNew.image_url is not null %}
                    <img src="{{ oneNew.image_url }}" class="card-img-top" alt="{{ oneNew.title }}">
                {% else %}
                    <img src="https://via.placeholder.com/700x100" class="card-img-top" alt="{{ oneNew.title }}">
                {% endif %}

                <div class="card-body">
                    <a href="new/{{ key }}/{{ key2 }}"><h5 class="card-title">{{ oneNew.title }}</h5></a>
                    <p class="card-text">{{ oneNew.description }}</p>

                    {% if oneNew.published_at is defined %}
                        <p class="card-text"><small class="text-muted">{{ oneNew.published_at }}</small></p>
                    {% elseif oneNew.publishedAt is defined %}
                        <p class="card-text"><small class="text-muted">{{ oneNew.publishedAt }}</small></p>
                    {% elseif oneNew.pubDate is defined %}
                        <p class="card-text"><small class="text-muted">{{ oneNew.pubDate }}</small></p>
                    {% endif %}

                </div>
            </div>
            {% endfor %}
        {% endfor %}

    </div>
{% endblock %}
